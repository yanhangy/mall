/*
 * This file was automatically generated by SmartUnit
 */

package smartunit.com.macro.mall.security.component;

import org.junit.Test;
import static org.junit.Assert.*;
import java.lang.reflect.Method;
import static org.smartunit.shaded.org.mockito.Mockito.*;
import org.smartunit.shaded.org.mockito.ArgumentMatchers;
import static org.smartunit.runtime.SmartAssertions.*;
import com.macro.mall.security.component.DynamicSecurityMetadataSource;
import com.macro.mall.security.component.DynamicSecurityService;
import java.util.Collection;
import java.util.LinkedHashSet;
import java.util.Map;
import java.util.TreeSet;
import org.junit.runner.RunWith;
import org.smartunit.runtime.ExecutorServiceAnswer;
import org.smartunit.runtime.PrivateAccess;
import org.smartunit.runtime.SmartRunner;
import org.smartunit.runtime.SmartRunnerParameters;
import org.smartunit.runtime.TransactionTemplateAnswer;
import org.smartunit.runtime.ViolatedAssumptionAnswer;
import org.springframework.security.access.ConfigAttribute;
import org.springframework.security.web.FilterInvocation;

@RunWith(SmartRunner.class) @SmartRunnerParameters(mockJVMNonDeterminism = true, useVFS = true, useVNET = true, resetStaticState = true) 
public class DynamicSecurityMetadataSource_SSTest extends DynamicSecurityMetadataSource_SSTest_scaffolding {
// allCoveredLines:[18, 26, 27, 30, 36, 37, 39, 40, 41, 42, 44, 45, 46, 47, 49, 51, 56, 61]

  @Test(timeout = 4000)
  public void test_clearDataSource_0()  throws Throwable  {
      //caseID:d5d56b75a4e798b24a4adae96d0e3209
      //CoveredLines: [18, 30]
      
      DynamicSecurityMetadataSource dynamicSecurityMetadataSource0 = new DynamicSecurityMetadataSource();
      
      //Call method: clearDataSource
      // Undeclared exception!
      try { 
        dynamicSecurityMetadataSource0.clearDataSource();
      } catch(Throwable e) {
         verifyException("com.macro.mall.security.component.DynamicSecurityMetadataSource", e);
         assertEquals("java.lang.NullPointerException", e.getClass().getName());
      }
  }

  @Test(timeout = 4000)
  public void test_getAllConfigAttributes_1()  throws Throwable  {
      //caseID:071d540148601eda152ad4deec9c1b64
      //CoveredLines: [18, 56]
      //Assert: assertNull(method_result);
      
      DynamicSecurityMetadataSource dynamicSecurityMetadataSource0 = new DynamicSecurityMetadataSource();
      
      //Call method: getAllConfigAttributes
      Collection<ConfigAttribute> collection0 = dynamicSecurityMetadataSource0.getAllConfigAttributes();
      
      //Test Result Assert
      assertNull(collection0);
  }

  @Test(timeout = 4000)
  public void test_getAttributes_2()  throws Throwable  {
      //caseID:5a7d59a89d52fa9917a77780d4490100
      //CoveredLines: [18, 26, 27, 36, 37, 39, 40, 41, 42, 44, 45, 46, 49, 51]
      //Input_0_Object: \"1\", \"This processor allows only a single Subscriber\"
      //Assert: assertNotNull(method_result);
      
      DynamicSecurityMetadataSource dynamicSecurityMetadataSource0 = new DynamicSecurityMetadataSource();
      LinkedHashSet<String> linkedHashSet0 = new LinkedHashSet<String>();
      
      linkedHashSet0.add("com.macro.mall.security.component.DynamicSecurityMetadataSource");
      //mock map0
      Map<String, ConfigAttribute> map0 = (Map<String, ConfigAttribute>) mock(Map.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(linkedHashSet0).when(map0).keySet();
      //mock dynamicSecurityService0
      DynamicSecurityService dynamicSecurityService0 = mock(DynamicSecurityService.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(map0).when(dynamicSecurityService0).loadDataSource();
      
      PrivateAccess.setVariable((Class<?>) DynamicSecurityMetadataSource.class, dynamicSecurityMetadataSource0, "dynamicSecurityService", (Object) dynamicSecurityService0);
      FilterInvocation filterInvocation0 = new FilterInvocation("1", "This processor allows only a single Subscriber");
      
      //Call method: getAttributes
      Collection<ConfigAttribute> collection0 = dynamicSecurityMetadataSource0.getAttributes(filterInvocation0);
      
      //Test Result Assert
      assertNotNull(collection0);
  }

  @Test(timeout = 4000)
  public void test_getAttributes_3()  throws Throwable  {
      //caseID:70f919f3ba79c99c7694fbb46ca92659
      //CoveredLines: [18, 26, 27, 36, 37, 39, 40, 41, 42, 44, 45, 46, 47, 49, 51]
      //Input_0_Object: {getRequestUrl=\"org.apache.catalina.valves.AbstractAccessLogValve$DateFormatCache\"}
      //Assert: assertTrue(method_result.contains(configAttribute0));
      
      DynamicSecurityMetadataSource dynamicSecurityMetadataSource0 = new DynamicSecurityMetadataSource();
      TreeSet<String> treeSet0 = new TreeSet<String>();
      
      treeSet0.add("org.apache.catalina.valves.AbstractAccessLogValve$DateFormatCache");
      //mock configAttribute0
      ConfigAttribute configAttribute0 = mock(ConfigAttribute.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      //mock map0
      Map<String, ConfigAttribute> map0 = (Map<String, ConfigAttribute>) mock(Map.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(configAttribute0).when(map0).get(any());
      doReturn(treeSet0).when(map0).keySet();
      //mock dynamicSecurityService0
      DynamicSecurityService dynamicSecurityService0 = mock(DynamicSecurityService.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(map0).when(dynamicSecurityService0).loadDataSource();
      
      PrivateAccess.setVariable((Class<?>) DynamicSecurityMetadataSource.class, dynamicSecurityMetadataSource0, "dynamicSecurityService", (Object) dynamicSecurityService0);
      //mock filterInvocation0
      FilterInvocation filterInvocation0 = mock(FilterInvocation.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn("org.apache.catalina.valves.AbstractAccessLogValve$DateFormatCache").when(filterInvocation0).getRequestUrl();
      
      //Call method: getAttributes
      Collection<ConfigAttribute> collection0 = dynamicSecurityMetadataSource0.getAttributes(filterInvocation0);
      
      //Test Result Assert
      assertTrue(collection0.contains(configAttribute0));
  }

  @Test(timeout = 4000)
  public void test_supports_4()  throws Throwable  {
      //caseID:76a03fe290e1a69ebb8c2ddff58f5af8
      //CoveredLines: [18, 61]
      //Input_0_Class<?>: Object.class
      //Assert: assertTrue(method_result);
      
      DynamicSecurityMetadataSource dynamicSecurityMetadataSource0 = new DynamicSecurityMetadataSource();
      Class<Object> class0 = Object.class;
      
      //Call method: supports
      boolean boolean0 = dynamicSecurityMetadataSource0.supports(class0);
      
      //Test Result Assert
      assertTrue(boolean0);
  }
}
